var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};!function o(n,t,e){function i(a,r){if(!t[a]){if(!n[a]){var p="function"==typeof require&&require;if(!r&&p)return p(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(o){var t=n[a][1][o];return i(t?t:o)},c,c.exports,o,n,t,e)}return t[a].exports}for(var s="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(o,n,t){var e="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(o){return"undefined"==typeof o?"undefined":_typeof2(o)}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":"undefined"==typeof o?"undefined":_typeof2(o)};!function(o){var n=function(o){new t(o)},t=function(n){if("object"==("undefined"==typeof n?"undefined":e(n))){var t={};if(n.result&&n.result.lottery){var i=n.result,s=i.lottery;t={img:s.imgurl,title:s.title,tip:s.tip,validate:s.validate,couponCode:s.coupon_code,couponKey:s.coupon_key,showUse:s.showUse,useBtnText:s.useBtnText,st_info_dpm_img:s.st_info_dpm_img,type:s.type,logprarm:i.exposure,downloadAppConfig:{openUrl:s.openUrl,iosDownloadUrl:s.iosDownloadUrl,androidDownloadUrl:s.androidDownloadUrl,confirm:s.confirm},link:s.link}}this.prize=n.prize||{},this.prize=o.extend(!0,t,this.prize),this.hasHtml=n.hasHtml||"",this.hasInsert=n.hasInsert||"";var a=this;o("body").append(a.tpl(a.prize)),document.touchmove=function(o){o.preventDefault()},a.prize&&(setTimeout(function(){a.animation(n)},300),setTimeout(function(){window.DB&&window.DB.exposure&&window.DB.exposure.initLog()},500),void 0!==a.prize.downloadAppConfig&&(window.downloadAppConfig=a.prize.downloadAppConfig),o(".J_modalShowPrize .J_btnCoupon").on("click",function(){var t=o(this).html();o(this).prop("disabled",!0).html("<i></i><span>页面跳转中，请稍后</span>"),a.use.call(this,t),n.callback&&n.callback.use&&n.callback.use()}),o(".J_modalShowPrize .coupon-modal-close").on("click",function(){document.touchmove=null,o(".J_modalShowPrize").remove(),n.callback&&n.callback.close?n.callback.close():a.prize.noreload||window.location.reload()}),o(".J_gotoDetail").on("click",function(n){n.preventDefault();var t=o(this).attr("data-pic");a.prize.showUse&&t?window.downloadApp():window.location.href=a.prize.link}))}else console.warn("参数错误")};t.prototype.use=function(n){window.downloadApp(),setTimeout(o.proxy(function(){o(this).prop("disabled",!1).html(n)},this),500)},t.prototype.animation=function(){o(".J_modalShowPrize").show()},window.CouponModal=t,window.showCouponPrize=n}(Zepto)},{}],2:[function(o,n,t){!function(n){o("../public"),CouponModal.prototype.tpl=function(o){if(!this.prize)return"";var n="";n=!this.hasHtml&&o.couponCode?this.hasInsert+'<div class="coupon">'+(o.couponCode?'<p class="code"><span>券码</span>'+o.couponCode+"</p>":"")+(o.couponKey?'<p class="password"><span>密码</span>'+o.couponKey+"</p>":"")+"</div>":this.hasInsert+this.hasHtml;var t=o.showUse?'<button type="button" class="J_btnCoupon coupon-use"><span>'+(o.useBtnText?o.useBtnText:"立即领取")+"</span></button>":"";return'<div class="J_modalShowPrize coupon-modal-showPrize">\n      <span class="close coupon-modal-close"></span>\n      <div class="coupon-modal-showPrize-decorate"></div>\n      <div class="coupon-modal-showPrize-dialog">\n        <div class="modal-header">\n          <span class="coin coin1"></span><span class="coin coin2"></span>\n          <span class="star star1"></span><span class="star star2"></span>\n          <span class="star star3"></span><span class="star star4"></span>\n        </div>\n        <div class="modal-body">\n          <h3>'+o.title+'</h3>\n          <div class="coupon-wrapper">\n            <div class="coupon-image">\n              <img class="J_gotoDetail logandgo" data-pic="true" src="'+o.img+'" db-exposure='+o.st_info_dpm_img+">\n            </div>\n          </div>\n          "+n+'\n          <div class="body-footer">\n            '+t+"\n          </div>\n        </div>\n      </div>\n    </div>"}}(Zepto)},{"../public":1}]},{},[2]);